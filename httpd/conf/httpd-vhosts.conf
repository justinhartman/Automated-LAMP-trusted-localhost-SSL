# Virtual Hosts
#
# Required modules: mod_log_config

# If you want to maintain multiple domains/hostnames on your
# machine you can setup VirtualHost containers for them. Most configurations
# use only name-based virtual hosts so the server doesn't need to worry about
# IP addresses. This is indicated by the asterisks in the directives below.
#
# Please see the documentation at 
# <URL:http://httpd.apache.org/docs/2.4/vhosts/>
# for further details before you try to setup virtual hosts.
#
# You may use the command line option '-S' to verify your virtual host
# configuration.

#
# VirtualHost example:
# Almost any Apache directive may go into a VirtualHost container.
# The first VirtualHost section is used for all requests that do not
# match a ServerName or ServerAlias in any <VirtualHost> block.
#
# <VirtualHost *:8080>
#     ServerAdmin webmaster@dummy-host.example.com
#     DocumentRoot "/usr/local/opt/httpd/docs/dummy-host.example.com"
#     ServerName dummy-host.example.com
#     ServerAlias www.dummy-host.example.com
#     ErrorLog "/usr/local/var/log/httpd/dummy-host.example.com-error_log"
#     CustomLog "/usr/local/var/log/httpd/dummy-host.example.com-access_log" common
# </VirtualHost>

# <VirtualHost *:8080>
#     ServerAdmin webmaster@dummy-host2.example.com
#     DocumentRoot "/usr/local/opt/httpd/docs/dummy-host2.example.com"
#     ServerName dummy-host2.example.com
#     ErrorLog "/usr/local/var/log/httpd/dummy-host2.example.com-error_log"
#     CustomLog "/usr/local/var/log/httpd/dummy-host2.example.com-access_log" common
# </VirtualHost>

# Include /usr/local/etc/httpd/vhosts/*.conf

#
# localhost HTTP & SSL Virtual Host
#
<VirtualHost _default_:80>
    ServerName localhost
    VirtualDocumentRoot "/Volumes/Storage/Personal/Code/Github/%0"
    ErrorLog "/usr/local/var/log/httpd/error_log"
    CustomLog "/usr/local/var/log/httpd/access_log" common
</VirtualHost>

# 
# Check that `mod_ssl` is enabled before defining the SSL vhost
# 
<IfModule mod_ssl.c>
    <VirtualHost _default_:443>
        ServerName localhost
        VirtualDocumentRoot "/Volumes/Storage/Personal/Code/Github/%0"
        ErrorLog "/usr/local/var/log/httpd/ssl_error_log"
        TransferLog "/usr/local/var/log/httpd/ssl_access_log"
        CustomLog "/usr/local/var/log/httpd/ssl_request_log" \
                  "%t %h %{SSL_PROTOCOL}x %{SSL_CIPHER}x \"%r\" %b"
        <FilesMatch "\.(shtml|phtml|php)$">
            SSLOptions +StdEnvVars
        </FilesMatch>
        BrowserMatch "MSIE [2-5]" \
            nokeepalive ssl-unclean-shutdown \
            downgrade-1.0 force-response-1.0
        SSLEngine on       
        SSLCertificateFile "/Volumes/Storage/Personal/Code/Github/localhost-configuration/ssl/localhost_server.crt"
        SSLCertificateKeyFile "/Volumes/Storage/Personal/Code/Github/localhost-configuration/ssl/localhost_server.key"
        SSLCACertificateFile "/Volumes/Storage/Personal/Code/Github/localhost-configuration/ssl/localhost_rootCA.crt"
    </VirtualHost>
</IfModule>
